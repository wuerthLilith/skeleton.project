<?php

namespace App\Controller;

use Pimcore\Model\DataObject\Product; 
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpFoundation\Response;
use Pimcore\Controller\FrontendController;
use Symfony\Component\Routing\Annotation\Route;

class CatalogController extends FrontendController
{
    /**
     * @Route("/catalog", name="catalog")
     */
    public function catalogAction(Request $request): Response
    {
        $product = new Product();
        $product->setArtikelnummer('12345');
        $product->setArtikelbezeichnung('T-Shirt');
        $product->setPreis(19.99);
        $product->setHersteller('Hersteller A');

        $product->save();

        $message = "Produkt wurde erfolgreich gespeichert!";

        $produkte = Product::getList([
            'limit' => 10, 
        ]);

        return $this->render('catalog.html.twig', [
            'produkte' => $produkte,
            'message' => $message, 
            'title' => 'Produktkatalog',
        ]);
    }
}





